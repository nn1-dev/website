---
import Hero from "./Hero.astro";
import ButtonLink from "../components/ButtonLink.astro";

interface Props {
  id: number;
  timestamp: string;
}

const { id, timestamp } = Astro.props;

const timeZone = "Europe/London";
const date = new Date(timestamp);
const datePart = new Intl.DateTimeFormat("en-GB", {
  day: "numeric",
  month: "long",
  year: "numeric",
  timeZone,
}).format(date);

const timePart = new Intl.DateTimeFormat("en-GB", {
  hour: "2-digit",
  minute: "2-digit",
  hour12: false,
  timeZone,
}).format(date);

const resultDateAndTime = `${datePart} at ${timePart}`;
---

<Hero
  title="Please confirm your email"
  description=`We don't like bots, so to ensure you are not one, please confirm your email address by clicking the link we sent you on ${resultDateAndTime}. We won't ask you to do it for future signups. You will be all set up!`
>
  <ButtonLink href={`/events/${id}`} text="Go to event details" />
</Hero>
